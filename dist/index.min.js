!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([
/*!*******************************!*\
  !*** external "ramda/src/is" ***!
  \*******************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=require("ramda/src/is")},
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/*! exports used: default, useContext, useReducer */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=require("react")},
/*!*************************************************!*\
  !*** external "@babel/runtime/helpers/extends" ***!
  \*************************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=require("@babel/runtime/helpers/extends")},
/*!**********************************!*\
  !*** external "ramda/src/clone" ***!
  \**********************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=require("ramda/src/clone")},
/*!************************************!*\
  !*** external "ramda/src/isEmpty" ***!
  \************************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=require("ramda/src/isEmpty")},
/*!*********************************!*\
  !*** external "ramda/src/path" ***!
  \*********************************/
/*! no static exports found */
/*! exports used: default */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){e.exports=require("ramda/src/path")},
/*!**********************************!*\
  !*** ./src/index.js + 1 modules ***!
  \**********************************/
/*! exports provided: StoreContext, StoreProvider, useStateHook, useDispatchHook, useStoreHook, connect */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with external "@babel/runtime/helpers/extends" (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external "ramda/src/clone" (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external "ramda/src/is" (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external "ramda/src/isEmpty" (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external "ramda/src/path" (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with external "react" (<- Module is not an ECMAScript module) */function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),c=n(1),u=n.n(c),i=n(0),f=n.n(i),s=n(3),a=n.n(s),d=n(4),y=n.n(d),l=n(5),p=n.n(l);function b(e,t){return p()(e,t)}function m(e){return!!e&&"AsyncFunction"===e.constructor.name}function h(e,t,n){return!!t&&(!!t[e]&&(!!t[e][n]||void 0))}function j(e,t=!0){if(!f()(Object,e))return{};let n={};return Object.keys(e).forEach(e=>{n[e]=t}),n}n.d(t,"StoreContext",(function(){return k})),n.d(t,"StoreProvider",(function(){return q})),n.d(t,"useStateHook",(function(){return F})),n.d(t,"useDispatchHook",(function(){return C})),n.d(t,"useStoreHook",(function(){return _})),n.d(t,"connect",(function(){return M}));const k=u.a.createContext(),x="hook-loading-clear";let O,v,w,E={},P={},S={};function g(e,t,n,r,o,c){let u;return t.forEach(t=>{b([e,t,n],r)&&(u=function(e,t,...n){const r=b(e,t);if(f()(Function,r))return r(...n)}([e,t,n],r,o,c))}),v=u,u}function q(e){const{store:t,middleware:n}=e;if(!t)return console.error("\n      store 必须有值，类似于：\n      <StoreProvider store={store}>\n      "),null;y()(S)&&Object.keys(t).forEach(e=>{S[e]={...j(b([e,"methods"],t),!1),...j(b([e,"reducers"],t),!1),...j(b([e,"effects"],t),!1)}}),P=t,Object.keys(P).forEach(e=>{E[e]=P[e].state}),E.loading=S;const[r,o]=Object(c.useReducer)((function(e,r){if(!r)return t;let o=function(e,t){const{key:n,type:r,payload:o}=t,c=n||O;return{...e,[c]:{...e[c],...g(c,["methods","reducers","effects"],r,P,e[c],o)}}}(e,r);if(n&&!f()(Array,n))throw new Error("middleware中间件必须为数组");return n&&n.forEach(n=>{const c=n(t,e,o,r,w,O);c&&(o=c)}),o}),E);let i=a()(r);return u.a.createElement(k.Provider,{value:{state:r,dispatch:async(e,t,n)=>{if(w=void 0,b([O,"reducers",e.type],P))return o(e);if(!m(e)&&h("effects",P[O||e.key],e.type)){O=e.key,w=e.type,o({key:O,type:x,payload:w});const t=b([e.key,"effects",e.type],P);return await t(o,i,e.payload)}if(m(e)||b([O,"effects",e],P))return O=n,w=e.name,o({key:O,type:x,payload:e.name}),await e(o,r,t);if(!m(e)&&f()(Function,e)&&f()(Object,e())){const t=b([e().key,"methods",e().type],P)||b([e().key,"effects",e().type],P);if(f()(Function,t))return O=e().key,w=e().type,o({key:O,type:x,payload:w}),await t(o,r,e().payload)}return o(e)}}},e.children)}function C(e){const t=Object(c.useContext)(k);return e&&(O=e),t.dispatch}function F(e){const t=Object(c.useContext)(k);return b(e?["state",e]:["state"],t)}function _(){const{state:e,dispatch:t}=Object(c.useContext)(k);let n={};return Object.keys(e).forEach(r=>{let o={};const c={...b([r,"methods"],P),...b([r,"reducers"],P),...b([r,"effects"],P)},u=c&&Object.keys(c);f()(Array,u)&&u.forEach(e=>{(m(c[e])||h("effects",P[r],e))&&(o[e]=async n=>{await t(c[e],n,r)}),!m(c[e])&&f()(Function,c[e])&&(o[e]=n=>{t({key:r,type:e,payload:n})})}),n[r]={...e[r],...o}}),n}function M(e,t){return function(n){return function(r){const i=_(),{state:s}=Object(c.useContext)(k),a=s;let d={};Object.keys(i).forEach(e=>{d[e]={},Object.keys(i[e]).forEach(t=>{f()(Function,i[e][t])&&(m(i[e][t])||h("effects",P[e],t)?d[e][t]=function(n,r,o){return new Promise(async(r,c)=>{try{await i[e][t](n,a,o),r(v)}catch(e){c(e)}})}:d[e][t]=function(n,r){return new Promise((o,c)=>{try{i[e][t](n,r),o(n)}catch(e){c(e)}})})})});const y=e(s),l=t(d);return u.a.createElement(n,o()({},y,l,r))}}}}])}));
//# sourceMappingURL=index.min.js.map